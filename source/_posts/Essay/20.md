---
title: 图结构
date: 2020-02-21
categories: Essay
tags: Essay
toc: true
thumbnail: https://gitee.com/heptaluan/backups/raw/master/cdn/cover/20.jpg
---

在之前的章节当中，我们介绍了 [线性表](http://localhost:4000/2020/01/22/Essay/07/) 和 [树](http://localhost:4000/2020/02/25/Essay/15/) 的相关的概念

在线性表中，每个元素之间**只有一个直接前驱和一个直接后继**，在树形结构中，数据元素之间是**层次**关系，并且每一层上的数据元素可能和下一层中多个元素相关，但只能和上一层中一个元素相关

但是这仅仅都只是一对一，一对多的简单模型，所以今天我们就来看看另外一种名为图的结构

<!--more-->


## 图的定义

图（`Graph`）是由**顶点的有穷非空集合**和**顶点之间边的集合**组成，通常表示为 `G(V, E)`，其中 `G` 表示一个图，`V` 是图 `G` 中顶点的集合，`E` 是图 `G` 中边的集合，比如下图，就是一个图结构

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/138.png)

对于图的定义，我们需要明确几个注意的地方

* 线性表中我们把数据元素叫**元素**，树中叫**结点**，在图中数据元素我们则称之为**顶点**（`Vertex`）
* 线性表可以没有数据元素，称为**空表**，树中可以没有**结点**，叫做**空树**，而图结构强调顶点集合 `V` 要**有穷非空**
* 线性表中，相邻的数据元素之间具有**线性关系**，树结构中，相邻两层的结点具有**层次关系，而图结构中，任意两个顶点之间都可能有关系**，顶点之间的逻辑关系用**边**来表示，**边集可以是空的**

关于图的各种定义概念十分之多，我们一个一个来进行了解


## 无向边

若顶点 `Vi` 到 `Vj` 之间的边没有方向，则称这条边为**无向边**（`Edge`），用**无序偶**（`Vi, Vj`）来表示，需要注意的是，无序偶的顺序**是随意**的，比如写成（`Vj`, `Vi`）也是**可行**的

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/139.png)

比如上图当中 `G1` 是一个无向图，`G1 = {V1, E1}`，其中

* `V1 = {A, B, C, D}`
* `E1 = {(A, B), (B, C), (C, D), (D, A), (A, C)}`




## 有向边

若从顶点 `Vi` 到 `Vj` 的边有方向，则称这条边为**有向边**，也成为**弧**（`Arc`），用**有序偶** `<Vi, Vj>`来表示，`Vi` 称为**弧尾**，`Vj` 称为**弧头**，需要注意的是，有序偶的顺序**不能是随意**的，需要与方向指向对应，如下图

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/140.png)

比如上图 `G2` 是一个无向图，`G2 = {V2, E2}`，其中

* `V2 = {A, B, C, D}`
* `E2 = {<B, A>, <B, C>, <C, A>, <A, D>}`




## 简单图

在图结构中，若不存在顶点到其自身的边，且同一条边不重复出现，则称这样的图为**简单图**，**简单图**也是使用最为广泛的

比如下面两个反面示例，它们**都不属于**简单图

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/141.png)




## 无向完全图

在无向图中，如果任意两个顶点之间都存在边，则称该图为**无向完全图**，含有 `n` 个顶点的无向完全图有 `n * (n - 1) / 2` 条边

如下图所示

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/142.png)




## 有向完全图

在有向图中，如果任意两个顶点之间都存在**方向互为相反的两条弧**，则称该图为**有向完全图**，含有 `n` 个顶点的有向完全图有 `n * (n - 1)` 条边

如下图所示

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/143.png)



## 稀疏图和稠密图

这里的稀疏和稠密是模糊的概念，一般使用较少，而且都是相对而言的，通常认为边或弧数小于 `n * logn`（`n` 是顶点的个数）的图称为**稀疏图**，反之称为**稠密图**


## 网

有些图的边或弧带有与它相关的数字，这种与图的边或弧相关的数叫做**权**（`Weight`，与**带权树**概念是一致的），带权的图通常称为**网**（`Network`）

如下图所示

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/144.png)



## 子图

假设有两个图 `G1 = (V1, E1)` 和 `G2 = (V2, E2)`，如果 `V2 ⊆ V1`，`E2 ⊆ E1`，则称 `G2` 为 `G1` 的**子图**（`Subgraph`）

比如下图这样的情况，右边的图均称为左图的子图

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/145.png)








## 无向图的顶点与边之间的关系

对于 **无向图** `G = (V, E)`，如果边 `(V1, V2) ∈ E`，则称顶点 `V1` 和 `V2` 互为 **邻接点**（`Adjacent`），即 `V1` 和 `V2` **相邻接**

边 `(V1, V2)` **依附**（`incident`）于顶点 `V1` 和 `V2`，或者说边 `(V1, V2)` 与顶点 `V1` 和 `V2` **相关联**

顶点 `V` 的 **度**（`Degree`）是和 `V` 相关联的边的数目，记为 `TD(V)`，如下图中的顶点 `A` 与 `B` 互为邻接点，边 `(A, B)` 依附于顶点 `A` 与 `B` 上，所以顶点 `A` 的度为 `3`

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/146.png)




## 有向图的顶点与边之间的关系

对于**有向图** `G = (V, E)`，如果有 `<V1,V2> ∈ E`，则称顶点 `V1` **邻接到** 顶点 `V2`，顶点 `V2` **邻接自** 顶点 `V1`

以顶点 `V` 为 **头** 的弧的数目称为 `V` 的 **入度**（`InDegree`），记为 `ID(V)`，以 `V` 为 **尾** 的弧的数目称为 `V` 的 **出度**（`OutDegree`），记为 `OD(V)`，因此顶点 `V` 的度为 `TD(V) = ID(V) + OD(V)`

下图顶点 `A` 的入度是 `2`，出度是 `1`，所以顶点 `A` 的度是 `3`

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/147.png)



## 路径

**无向图** `G = (V, E)` 中从顶点 `V1` 到顶点 `V2` 的 **路径**（`Path`）

下图用蓝线列举了从顶点 `B` 到顶点 `D` 的四种不同路径

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/148.png)

如果 `G` 是 **有向图**，则 **路径也是有向的**

比如下图用蓝线列举顶点 `B` 到顶点 `D` 的两种路径，而顶点 `A` 到顶点 `B` 就不存在路径

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/149.png)





## 回路或环

路径的 **长度** 是路径上的边或弧的数目，第一个顶点到最后一个顶点相同的路径称为 **回路或环**（`Cycle`）

序列中顶点不重复出现的路径称为**简单路径**，除了第一个顶点和最后一个顶点之外，其余顶点不重复出现的回路，称为 **简单回路** 或 **简单环**

比如下面这个图当中左侧是简单环，右侧则不是简单环，因为右图当中的 `C` 重复出现了

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/150.png)





## 连通图

在 **无向图** `G` 中，如果从顶点 `V1` 到顶点 `V2` 有路径，则称 `V1` 和 `V2` 是**连通**的，如果对于图中任意两个顶点 `Vi` 和 `Vj` 都是连通的，则称 `G` 是 **连通图**（`ConnectedGraph`）

比如下图当中，左侧不是连通图（因为 `E`，`F` 独自在一块，没有一个顶点和 `ABCD` 相连通），而右侧则是连通图

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/151.png)




## 连通分量

无向图中的 **极大** 连通 **子图**（比如上图当中右侧就是左侧的子图） 称为 **连通分量**，但是需要注意的是

* 首先要是 **子图**，并且子图是要 **连通** 的
* 连通子图 **含有极大顶点数**（比如下图右侧虽然是上图左侧的子图，但是它并不是 **极大** 的，但是左侧却是 **极大连通子图**，所以也就是 **连通分量**）
* **具有极大顶点数** 的 **连通子图** 包含 **依附于这些顶点的所有边**

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/152.png)






## 强连通图

在 **有向图** `G` 中，如果对于每一对 `Vi` 到 `Vj` 都存在 **路径**，则称 `G` 是 **强连通图**

有向图中的 **极大强连通子图** 称为有向图的 **强连通分量**

下图左侧并不是强连通图（因为并不是每个顶点都存在路径），而右侧则是，并且右侧是左侧的 **极大强连通子图**，也是左侧的 **强连通分量**

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/153.png)













## 生成树

最后我们再来看连通图的 **生成树** 定义

所谓的一个 **连通图的生成树** 是一个 **极小的连通子图**，它含有图中全部的 `n` 个顶点，但只有足以构成一棵树的 `n - 1` 条边

比如下图，它只是一个普通的图，它还不是一棵树，因为它有八个顶点，但是却有九条边，如果要满足 **生成树** 的话则需要是七条边

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/154.png)

如果我们想要它变成 **生成树**，则需要剔除两条边，如下

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/155.png)

但是像下面这样，它却并不是一颗 **生成树**（虽然它满足条件，但是它是两个子图，没有连在一起）

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/156.png)




## 有向树

如果一个 **有向图** 恰有一个顶点入度为 `0`，其余顶点的入度均为 `1`，则是一棵 **有向树**

比如下图，左侧是一个普通的有向图，只需要将其简单的修剪就成为了右侧的森林（因为它们分别是两颗有向树）

因为对于中间那个图来说，因为仅仅只有一个顶点 `B` 入度为 `0`，而最后一个图当中的 `F` 也是同理

![](https://gitee.com/heptaluan/backups/raw/master/cdn/essay/157.png)




## 总结

* 图按照有无方向可以分为 **无向图** 和 **有向图**
  * 无向图是由 **顶点** 和 **边** 构成
  * 有向图是由 **顶点** 和 **弧** 构成，弧分为弧尾和弧头，指向是从弧尾指向弧头
* 图按照边或者弧的多少可以分为 **稀疏图**和 **稠密图**（基于 `n * logn` 来区分，相对的概念）
* 如果任意两个顶点之间都存在边，就将其称之为 **完全图**，有向的话就称为 **有向完全图**，若无重复边（顶点除外），称之为 **简单图**（图中的顶点之间有 **依附** 这个概念）
* 无向图顶点的边称之为 **度**，跟这个顶点有多少关联的边，我们就称这个顶点有多少度，而有向图会把其区分为入度和出度，如果图上的边或者弧带有 **权** 的话就将其称之为 **网**
* 如果图中两个顶点之间存在 **路径**，我们可以说这两个顶点是 **连通** 的，而图中任意两个顶点都是 **连通** 的话，则称为 **连通图**，有向的就将其称之为 **强连通图**
* 如果图中有子图，若子图 **极大连通**，则称为 **连通分量**，有向的则称之为 **强连通分量**
* 无向图可以构成一颗生成树，特点是有 `n` 个顶点，有 `n - 1` 条边（但不是所有情况都能够构成生成树，它们必须要连成一块）
* 有向图如果只有一个顶点入度为 `0`，其余顶点的入度均为 `1`，则是一棵 **有向树**，一个 **有向图** 由若干个 **有向树** 构成 **森林**