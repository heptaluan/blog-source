---
title: link 和 @import 的区别
date: 2017-11-11
categories: CSS
tags: CSS
toc: true
thumbnail: https://gitee.com/heptaluan/backups/raw/master/cdn/cover/10.jpg
---

几种区别如下

<!--more-->

## 从属关系区别

`@import` 是 `CSS` 提供的语法规则，只有导入样式表的作用

`link` 是 `HTML` 提供的标签，不仅可以加载 `CSS` 文件，还可以定义 `RSS`、`rel` 连接属性等

## 加载顺序区别

加载页面时，`link` 标签引入的 `CSS` 被同时加载

`@import` 引入的 `CSS` 将在页面加载完毕后被加载，如果网速慢的话，可能会导致页面的样式混乱

## 兼容性区别

`@import` 是 `CSS2.1` 才有的语法，故只可在 `IE5+` 才能识别

`link` 标签作为 `HTML` 元素，不存在兼容性问题

## DOM 可控性区别

可以通过 `JavaScript` 操作 `DOM` ，插入 `link` 标签来改变样式

由于 `DOM` 方法是基于文档的，无法使用 `@import` 的方式插入样式

## 权重差异（存在争议）

按一般的理解来说，`CSS` 中的权重，一般指的是选择器的优先级，即

```console
!important > 行内样式 > ID > 类、伪类、属性 > 标签名 > 通配符
```

但是在网上看到有关于 `link` 引入的样式权重大于 `@import` 引入的样式这样的讨论，不过经过实际操作验证发现存在问题

如果分别把 `@import` 的样式放置在 `link` 的前面和后面测试，结果发现前面的被后面的 `link` 所覆盖，所以说这个说法是不完善的

在《`CSS` 权威指南》中写道：

> `@import` 一定要写在除 `@charset` 外的其他任何 `CSS` 规则之前，如果置于其它位置将会被浏览器忽略
> 
> 而且，在 `@import` 之后如果存在其它样式，则 `@import` 之后的分号是必须书写，不可省略的

那么这里又会存在一个小问题，在加载页面的时候，`link` 标签引入的 `CSS` 是会先于 `@import` 引入的 `CSS` 加载，那么 `link` 标签引入的样式又怎会把 `@import` 引入的样式层叠掉呢？

个人简单的理解是

可以把 `@import` 这种导入 `CSS` 文件的方式理解成一种替换，`CSS` 解析引擎在对一个 `CSS` 文件进行解析时

如在文件顶部遇到 `@import`，将被替换为该 `@import` 导入的 `CSS` 文件中的全部样式

其虽然后被加载，却会在加载完毕后置于样式表顶部，最终渲染时自然会被下面的同名样式层叠